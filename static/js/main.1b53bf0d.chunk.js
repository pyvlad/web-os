(window["webpackJsonpweb-os"]=window["webpackJsonpweb-os"]||[]).push([[0],{137:function(e,t,n){e.exports=n(193)},153:function(e,t){},155:function(e,t){},156:function(e,t){},157:function(e,t){},158:function(e,t){},193:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),i=(n(142),n(240)),c=n(241),u=n(86),s=n(71),d=n(23),m=n(12);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={backgroundType:"image",backgroundColor:"#ddf",backgroundImageUrl:"/web-os/files/hubble-extreme-deep-field.jpg",isSettingsMenuOpen:!1},h=n(127),b=Object(h.a)({palette:{type:"light"}}),E=n(53),v=n(15),y=n(11),w=n(19),O=n(20),k=n(21),C=n(28),j=n(195),S=Object(j.a)(function(e){return{container:{display:"flex",flexDirection:"column",minHeight:"100vh"},desktop:{flex:1,position:"relative"},toolbar:{flex:0}}}),x=function(e){var t=e.desktop,n=e.toolbar,a=S();return r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.desktop},t),r.a.createElement("div",{className:a.toolbar},n))},T=n(22),P=n(64),I=function(){return r.a.createElement(P.a,{variant:"h2",component:"span",style:{backgroundColor:"RGBA(255,255,255,0.5)",borderRadius:"0 0 30px 30px",padding:"0px 30px 10px"}},"WebOS")},N=Object(j.a)(function(e){return{desktop:function(e){var t=e.bgType,n=e.bgColor,a=e.bgUrl;return{backgroundColor:"color"===t?n:"transparent",backgroundImage:"image"===t?"url(".concat(a,")"):null,position:"absolute",top:0,right:0,bottom:0,left:0}}}}),D=function(e){var t=e.children,n=e.bgType,a=e.bgColor,o=e.bgUrl,l=N({bgType:n,bgColor:a,bgUrl:o});return r.a.createElement("div",{className:l.desktop,id:"desktop"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(I,null)),t)},W=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(O.a)(t).call(this,e))).handleResize=n.handleResize.bind(Object(T.a)(n)),n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"handleResize",value:function(){var e=document.getElementById("desktop");this.props.setDesktopSize(e.offsetWidth,e.offsetHeight)}},{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return r.a.createElement(D,this.props)}}]),t}(r.a.Component),z=function(e){return{type:"SET_IS_SETTINGS_MENU_OPEN",value:e}},U=Object(d.b)(function(e){return{bgType:e.backgroundType,bgColor:e.backgroundColor,bgUrl:e.backgroundImageUrl}},function(e){return{setDesktopSize:function(t,n){return e(function(e,t){return{type:"SET_DESKTOP_SIZE",width:e,height:t}}(t,n))}}})(W),F=n(230),M=n(52),B=n(222),R=n(223),_=n(224),A=n(225),H=Object(j.a)(function(e){return{menu:{width:250},button:{color:e.palette.primary.contrastText},header:{padding:e.spacing(1,2),backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}}),L=function(e){var t=e.children,n=H(),a=r.a.useState({isOpen:!1}),o=Object(M.a)(a,2),l=o[0],i=o[1],c=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&i({isOpen:e})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{onClick:c(!0),className:n.button},r.a.createElement(R.a,null,"dehaze")),r.a.createElement(_.a,{open:l.isOpen,onClose:c(!1)},r.a.createElement("div",{className:n.header},r.a.createElement(P.a,{variant:"h4"},"Menu")),r.a.createElement(A.a,null),r.a.createElement("div",{className:n.menu,role:"presentation",onClick:c(!1),onKeyDown:c(!1)},t)))},G=n(226),K=n(227),V=n(228),Y=n(229),J=n(88),Z=n.n(J),q=n(116),Q=n.n(q),X=n(114),$=n.n(X),ee=n(115),te=n.n(ee),ne=function(){var e=0;return function(){return"Example #"+ ++e}}(),ae=Object(d.b)(void 0,function(e){return{openSettingsDialog:function(){return e(z(!0))}}})(function(e){var t=e.openSettingsDialog,n=e.handleWindowCreate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(K.a,{button:!0,onClick:t},r.a.createElement(V.a,null,r.a.createElement(R.a,null,"more_vert")),r.a.createElement(Y.a,{primary:"Settings"}))),r.a.createElement(A.a,null),r.a.createElement(G.a,null,r.a.createElement(K.a,{button:!0,onClick:function(){return n(ne(),"example")}},r.a.createElement(V.a,null,r.a.createElement($.a,null)),r.a.createElement(Y.a,{primary:"Example Window"})),r.a.createElement(K.a,{button:!0,onClick:function(){return n("Clock","clock")}},r.a.createElement(V.a,null,r.a.createElement(te.a,null)),r.a.createElement(Y.a,{primary:"Clock"})),r.a.createElement(K.a,{button:!0,onClick:function(){return n("Files (Custom)","customFileViewer")}},r.a.createElement(V.a,null,r.a.createElement(Z.a,null)),r.a.createElement(Y.a,{primary:"Files (Custom)"})),r.a.createElement(K.a,{button:!0,onClick:function(){return n("Files (Basic)","basicFileViewer")}},r.a.createElement(V.a,null,r.a.createElement(Z.a,null)),r.a.createElement(Y.a,{primary:"Files (Basic)"})),r.a.createElement(K.a,{button:!0,onClick:function(){return n("Mail","mail")}},r.a.createElement(V.a,null,r.a.createElement(Q.a,null)),r.a.createElement(Y.a,{primary:"Mail"}))))}),re=function(e){var t=e.handleWindowCreate;return r.a.createElement(L,null,r.a.createElement(ae,{handleWindowCreate:t}))},oe=Object(j.a)(function(e){return{time:{color:e.palette.primary.contrastText}}}),le=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={currentTime:new Date},n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.setState({currentTime:new Date})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return r.a.createElement("span",null,this.state.currentTime.toLocaleTimeString())}}]),t}(r.a.Component),ie=function(e){var t=e.handleWindowCreate,n=oe();return r.a.createElement(B.a,{onClick:function(){return t("Clock App","clock")}},r.a.createElement(P.a,{variant:"subtitle2",className:n.time},r.a.createElement(le,null)))},ce=Object(j.a)(function(e){return{button:{marginRight:e.spacing(1)}}}),ue=function(e){var t=e.windows,n=e.handleWindowSelect,a=ce();return r.a.createElement("div",null,t.map(function(e){return r.a.createElement(B.a,{variant:"contained",color:"primary",size:"small",className:a.button,key:e.id,onClick:function(){return n(e.id)}},e.title)}))},se=Object(j.a)(function(e){return{toolbar:{backgroundColor:e.palette.primary.dark,display:"flex",justifyContent:"space-between"}}}),de=function(e){var t=e.windows,n=e.handleWindowCreate,a=e.handleWindowSelect,o=se();return r.a.createElement(F.a,{className:o.toolbar},r.a.createElement(re,{handleWindowCreate:n}),r.a.createElement(ue,{windows:t,handleWindowSelect:a}),r.a.createElement(ie,{handleWindowCreate:n}))},me=n(117),pe=n(194),fe=n(236),ge=n(237),he=n(234),be=Object(d.b)(function(e){return{bgType:e.backgroundType,bgColor:e.backgroundColor,bgUrl:e.backgroundImageUrl}})(function(e){var t=e.handleSelect,n=e.bgType,a=e.bgColor,o=e.bgUrl;return r.a.createElement(G.a,null,r.a.createElement(K.a,{button:!0,onClick:function(){return t("background")}},r.a.createElement(Y.a,{primary:"Background",secondary:"image"===n?o:a})),r.a.createElement(A.a,null),r.a.createElement(K.a,{button:!0},r.a.createElement(Y.a,{primary:"Something Else",secondary:""})))}),Ee=n(231),ve=n(232),ye=n(244),we=n(233),Oe=n(243),ke=n(242),Ce=n(235);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Se=Object(j.a)(function(e){return{formControl:{margin:e.spacing(3)},group:{margin:e.spacing(1,0)}}}),xe=Object(d.b)(function(e){return{bgType:e.backgroundType,bgColor:e.backgroundColor,bgUrl:e.backgroundImageUrl}},function(e){return{setBackgroundType:function(t){return e(function(e){return{type:"SET_BACKGROUND_TYPE",bgType:e}}(t))},setBackgroundColor:function(t){return e(function(e){return{type:"SET_BACKGROUND_COLOR",color:e}}(t))},setBackgroundImage:function(t){return e(function(e){return{type:"SET_BACKGROUND_IMAGE",url:e}}(t))}}})(function(e){var t=e.bgType,n=e.bgColor,a=e.bgUrl,o=e.setBackgroundType,l=e.setBackgroundColor,i=e.setBackgroundImage,c=Se(),u=r.a.useState({bgType:t,bgColor:n,bgUrl:a}),s=Object(M.a)(u,2),d=s[0],p=s[1],f=function(e){return function(t){var n=t.target.value;p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},d,Object(m.a)({},e,n)))}};return r.a.createElement("form",null,r.a.createElement(Ee.a,{component:"fieldset",className:c.formControl},r.a.createElement(ve.a,{component:"legend"},"Background Type"),r.a.createElement(ye.a,{"aria-label":"background-type",name:"backgroundType",className:c.group,value:d.bgType,onChange:f("bgType")},r.a.createElement(we.a,{value:"color",control:r.a.createElement(Oe.a,null),label:"Color"}),r.a.createElement(ke.a,{disabled:"color"!==d.bgType,label:"Background Color",value:d.bgColor,onChange:f("bgColor")}),r.a.createElement(we.a,{value:"image",control:r.a.createElement(Oe.a,null),label:"Image"}),r.a.createElement(ke.a,{disabled:"image"!==d.bgType,label:"Background Image URL",value:d.bgUrl,onChange:f("bgUrl")})),r.a.createElement(Ce.a,null,"You can configure your background here."),r.a.createElement("button",{onClick:function(e){e.preventDefault(),o(d.bgType),l(d.bgColor),i(d.bgUrl)}},"Save")))}),Te=Object(me.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}}),Pe=r.a.forwardRef(function(e,t){return r.a.createElement(pe.a,Object.assign({direction:"up",ref:t},e))}),Ie=Object(d.b)(function(e){return{isOpen:e.isSettingsMenuOpen}},function(e){return{handleClose:function(){return e(z(!1))}}})(function(e){var t,n=e.isOpen,a=e.handleClose,o=Te(),l=r.a.useState("main"),i=Object(M.a)(l,2),c=i[0],u=i[1],s=function(e){return u(e)};switch(c){case"background":t=r.a.createElement(xe,null);break;default:t=r.a.createElement(be,{handleSelect:s})}return r.a.createElement(fe.a,{fullScreen:!0,open:n,onClose:a,TransitionComponent:Pe},r.a.createElement(ge.a,{className:o.appBar},r.a.createElement(F.a,null,r.a.createElement(he.a,{edge:"start",color:"inherit",onClick:function(){a(),u("main")},"aria-label":"close"},r.a.createElement(R.a,null,"close")),r.a.createElement(P.a,{variant:"h6",className:o.title},"App Settings"),"main"===c?null:r.a.createElement(B.a,{color:"inherit",onClick:function(){return s("main")}},"back"))),t)}),Ne=n(118),De=n(120),We=n.n(De),ze=n(121),Ue=n.n(ze),Fe=n(122),Me=n.n(Fe),Be=Object(j.a)(function(e){return{container:{height:"100%",width:"100%",borderColor:e.palette.primary.main,borderStyle:"solid",borderWidth:"2px",display:"flex",flexDirection:"column"},contentWrapper:{flex:1,backgroundColor:e.palette.background.default},topBar:{backgroundColor:e.palette.primary.main,display:"flex",justifyContent:"space-between",alignItems:"center"},topBarControls:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap"},control:{color:e.palette.primary.contrastText,margin:0,padding:0},topBarTitle:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}}),Re=function(e){var t=Be(),n=e.children,a=e.title,o=e.isSelected,l=e.handleClose,i=e.handleMinimize,c=e.handleMaximize;return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.topBar},r.a.createElement("div",{className:t.topBarControls},r.a.createElement(he.a,{size:"small",className:t.control,onClick:l},r.a.createElement(We.a,null)),r.a.createElement(he.a,{size:"small",className:t.control,onClick:i},r.a.createElement(Ue.a,null)),r.a.createElement(he.a,{size:"small",className:t.control,onClick:c},r.a.createElement(Me.a,null))),r.a.createElement(P.a,{variant:"h6",color:o?"textPrimary":"textSecondary",className:t.topBarTitle},a)),r.a.createElement("div",{className:t.contentWrapper},n))};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Ae=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={x:100,y:100,width:400,height:400},n.handleMaximize=n.handleMaximize.bind(Object(T.a)(n)),n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"handleMaximize",value:function(){this.setState(function(e,t){return t.handleSelect(t.id),{x:0,y:0,width:t.desktopWidth,height:t.desktopHeight}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.title,o=t.isSelected,l=t.handleClose,i=t.handleHide,c=t.zIndex;return r.a.createElement(Ne.a,{size:{width:this.state.width,height:this.state.height},position:{x:this.state.x,y:this.state.y},onDragStop:function(t,n){e.setState({x:n.x,y:n.y})},onResize:function(t,n,a,r,o){e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({width:a.offsetWidth,height:a.offsetHeight},o))},minWidth:200,minHeight:200,bounds:"parent",style:{overflow:"hidden",zIndex:c}},r.a.createElement(Re,{title:a,isSelected:o,handleClose:l,handleMinimize:i,handleMaximize:this.handleMaximize},n))}}]),t}(r.a.Component),He=Object(d.b)(function(e){return{desktopWidth:e.desktopWidth,desktopHeight:e.desktopHeight}})(Ae),Le=Object(j.a)(function(e){return{container:{display:"flex",flexDirection:"column",height:"100%"},header:{flex:0,backgroundColor:e.palette.grey[900],color:"white",padding:e.spacing(2),margin:0},content:{flex:1,backgroundColor:e.palette.grey[800],color:"white",padding:e.spacing(2),margin:0}}}),Ge=function(){var e=Le();return r.a.createElement("div",{className:e.container},r.a.createElement(P.a,{variant:"h4",className:e.header},"Hello, window!"),r.a.createElement(P.a,{className:e.content},"Created/re-rendered at ",(new Date).toLocaleTimeString(),"..."))},Ke=function(e){var t,n=e.size,a=e.rotate,o=e.color,l=e.width,i=e.length,c={position:"absolute",top:n/2+(t=a,-Math.cos(t*Math.PI/180)*l/2),left:n/2+function(e){return Math.sin(e*Math.PI/180)}(a)*l/2,width:i,height:l,transform:"rotate(".concat(a,"deg)"),transformOrigin:"0% 0%",backgroundColor:o,borderRadius:l/2};return r.a.createElement("div",{style:c})},Ve=function(e){var t=e.time,n=e.size,a=e.bgColor,o=e.arrColor,l=t.getSeconds()/60*360-90,i=t.getMinutes()/60*360-90,c=360*(t.getHours()/12+t.getMinutes()/60/12)-90,u={position:"relative",width:n,height:n,borderRadius:n/2,backgroundColor:a,borderColor:o,borderStyle:"solid",margin:"auto"};return r.a.createElement("div",{style:u},r.a.createElement(Ke,{size:n,rotate:c,color:o,width:10,length:.35*n}),r.a.createElement(Ke,{size:n,rotate:i,color:o,width:6,length:.45*n}),r.a.createElement(Ke,{size:n,rotate:l,color:o,width:4,length:.5*n}))},Ye=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={currentTime:new Date},n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerId=setInterval(function(){e.setState({currentTime:new Date})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){var e=this.props,t=e.bgColor,n=e.arrColor,a=e.size;return r.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"space-around"}},r.a.createElement(Ve,{time:this.state.currentTime,bgColor:t,arrColor:n,size:a}),r.a.createElement(P.a,{variant:"h6",align:"center",style:{padding:16}},this.state.currentTime.toLocaleString()))}}]),t}(r.a.Component);Ye.defaultProps={bgColor:"indigo",arrColor:"PeachPuff",size:200};var Je=Ye,Ze=Object(j.a)(function(e){return{frame:{width:"100%",height:"100%",border:"none"}}}),qe=function(){var e=Ze();return r.a.createElement("iframe",{src:"https://pyvlad.github.io/mailbox-mui/",title:"mail",className:e.frame})},Qe=Object(j.a)(function(e){return{frame:{width:"100%",height:"100%",border:"none"}}}),Xe=function(e){var t=e.viewerType,n=Qe();return r.a.createElement("iframe",{src:"/web-os"+"/#/files/".concat(t),title:"files",className:n.frame})},$e=function(e){switch(e.name){case"example":return r.a.createElement(Ge,null);case"clock":return r.a.createElement(Je,{size:300});case"mail":return r.a.createElement(qe,null);case"basicFileViewer":return r.a.createElement(Xe,{viewerType:"basic"});case"customFileViewer":return r.a.createElement(Xe,{viewerType:"custom"});default:return null}},et=function(e){var t=e.windows,n=e.selectedWindow,a=e.handleWindowCreate,o=e.handleWindowClose,l=e.handleWindowSelect,i=e.handleWindowHide,c=r.a.createElement(U,null,t.map(function(e){return r.a.createElement(He,{key:e.id,title:e.title,zIndex:e.zIndex,handleClose:function(){return o(e.id)},handleSelect:function(){return l(e.id)},handleHide:function(){return i(e.id)},isSelected:e.id===n},r.a.createElement($e,{name:e.appName}))})),u=r.a.createElement(de,{windows:t,handleWindowCreate:a,handleWindowSelect:l});return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{desktop:c,toolbar:u}),r.a.createElement(Ie,null))},tt=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)},nt=function(e){var t=e.length?Math.max.apply(Math,Object(C.a)(e.map(function(e){return e.zIndex}))):1;return Math.max(t,1)},at=function(e){var t={},n=!0,a=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)t[o.value]=!0}catch(c){a=!0,r=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}var i=Array.from(Object.keys(t)).sort(function(e,t){return e-t});return Object.fromEntries(i.map(function(e,t){return[e,e>=0?t:e]}))},rt=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(O.a)(t).call(this,e))).handleWindowCreate=function(e,t){n.setState(function(n){var a=tt(),r=nt(n.windows)+1,o={id:a,title:e,appName:t,zIndex:r};return{windows:[].concat(Object(C.a)(n.windows),[o]),selectedWindow:a}})},n.handleWindowClose=function(e){n.setState(function(t){var n=t.windows.filter(function(t){return t.id!==e});return{windows:n=n.map(function(e){return Object.assign({},e)}),selectedWindow:t.selectedWindow===e?null:t.selectedWindow}})},n.handleWindowSelect=function(e){n.setState(function(t){var n=at(t.windows.map(function(e){return e.zIndex})),a=t.windows.map(function(e){return Object.assign({},e,{zIndex:n[e.zIndex]})});return a.find(function(t){return t.id===e}).zIndex=nt(a)+1,{windows:Object(C.a)(a),selectedWindow:e}})},n.handleWindowHide=function(e){n.setState(function(t){var n=t.windows.map(function(e){return Object.assign({},e)});return n.find(function(t){return t.id===e}).zIndex=-1,{windows:Object(C.a)(n)}})},n.state={windows:[],selectedWindow:null},n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(et,{windows:this.state.windows,selectedWindow:this.state.selectedWindow,handleWindowCreate:this.handleWindowCreate,handleWindowClose:this.handleWindowClose,handleWindowSelect:this.handleWindowSelect,handleWindowHide:this.handleWindowHide})}}]),t}(r.a.Component),ot=n(238),lt=Object(j.a)(function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},header:{backgroundColor:"light"===e.palette.type?e.palette.primary.light:e.palette.primary.dark,padding:e.spacing(1)},container:{flex:1},leftPane:{padding:e.spacing(2)},rightPane:{minHeight:"350px",backgroundColor:e.palette.background.paper}}}),it=function(e){var t=e.header,n=e.explorer,a=e.viewer,o=lt();return r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.header},t),r.a.createElement(ot.a,{container:!0,direction:"row",justify:"center",alignItems:"stretch",className:o.container},r.a.createElement(ot.a,{item:!0,xs:12,sm:4,className:o.leftPane},n),r.a.createElement(ot.a,{item:!0,xs:12,sm:8,className:o.rightPane},a)))},ct=n(123),ut=n.n(ct),st=n(124),dt=n.n(st),mt=n(125),pt=n.n(mt),ft=function(e){var t=e.files,n=e.handleFileSelect;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{variant:"h4",component:"h2"},"Explorer"),r.a.createElement(G.a,{component:"nav"},t.map(function(e){var t=e.id,a=e.type,o=e.name,l=e.url;return r.a.createElement(K.a,{button:!0,key:t,onClick:function(){return n(t,a,l)}},r.a.createElement(V.a,null,"directory"===a?r.a.createElement(ut.a,null):String(o).indexOf(".pdf")+1?r.a.createElement(dt.a,null):r.a.createElement(pt.a,null)),r.a.createElement(Y.a,{primary:o}))})))},gt=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(O.a)(t).call(this,e))).updateData=function(){var e=n.props.folderId;Promise.all([n.API.getFolderById(e),n.API.getFilesByFolderId(e)]).then(function(e){var t=Object(M.a)(e,2),a=t[0],r=t[1];return n.setState({folder:a,files:r})})},n.API=e.API,n.state={folderId:null,folder:{},files:[]},n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e){this.props.folderId!==e.folderId&&this.updateData()}},{key:"render",value:function(){var e=this.props.handleFileSelect;return r.a.createElement(ft,{files:this.state.files,handleFileSelect:e})}}]),t}(r.a.Component),ht=n(239),bt=Object(j.a)(function(e){return{message:{padding:e.spacing(2)}}}),Et=function(e){var t=e.fileUrl,n=bt();return t?r.a.createElement("object",{data:t,type:"application/pdf",width:"100%",height:"98%"},r.a.createElement(P.a,{variant:"subtitle1",className:n.message},"Rendering failed. ",r.a.createElement(ht.a,{href:t},"Download file"),".")):r.a.createElement(P.a,{variant:"h4",align:"center",className:n.message},"File Viewer")},vt=n(89),yt=Object(j.a)(function(e){return{message:{padding:e.spacing(2)},root:{borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.grey[800],height:"100%",position:"relative"},header:{backgroundColor:e.palette.grey[800],padding:e.spacing(1),display:"flex",justifyContent:"space-between",height:50,position:"absolute",top:0,left:0,right:0},pdf:{position:"absolute",top:50,bottom:0,right:0,left:0,overflow:"scroll"},pageCounter:{color:e.palette.primary.contrastText}}}),wt=function(e){var t=e.fileUrl,n=e.onDocumentLoadSuccess,a=e.goToPrevPage,o=e.goToNextPage,l=e.pageNumber,i=e.numPages,c=yt();if(!t)return r.a.createElement(P.a,{variant:"h4",align:"center",className:c.message},"Cutsom File Viewer");var u=r.a.createElement(P.a,{variant:"subtitle1",className:c.message},"Rendering failed. ",r.a.createElement(ht.a,{href:t},"Download file"),".");return r.a.createElement("div",{className:c.root},r.a.createElement("div",{className:c.header},r.a.createElement("div",{className:c.pageCounter},"Page ",l," of ",i),r.a.createElement("nav",null,r.a.createElement("button",{onClick:a},"Prev"),r.a.createElement("button",{onClick:o},"Next"))),r.a.createElement("div",{className:c.pdf},r.a.createElement(vt.Document,{file:t,onLoadSuccess:n,loading:"loading PDF...",error:u},r.a.createElement(vt.Page,{pageNumber:l}))))},Ot=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={numPages:null,pageNumber:1},n.onDocumentLoadSuccess=function(e){var t=e.numPages;n.setState({numPages:t})},n.goToPrevPage=function(){n.setState(function(e){return{pageNumber:Math.max(e.pageNumber-1,1)}})},n.goToNextPage=function(){n.setState(function(e){return{pageNumber:Math.min(e.pageNumber+1,e.numPages)}})},n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.fileUrl;return r.a.createElement(wt,{fileUrl:e,onDocumentLoadSuccess:this.onDocumentLoadSuccess,goToPrevPage:this.goToPrevPage,goToNextPage:this.goToNextPage,pageNumber:this.state.pageNumber,numPages:this.state.numPages})}}]),t}(r.a.Component),kt=n(26),Ct=n.n(kt),jt=n(90),St=[{id:1,type:"directory",name:"home",url:"/web-os/root/",parentId:null},{id:2,type:"directory",name:"examples",url:"/web-os/root/examples/",parentId:1},{id:3,type:"file",url:"/web-os/root/examples/example.pdf",name:"example.pdf",parentId:2},{id:4,type:"file",url:"/web-os/root/examples/example.docx",name:"example.docx",parentId:2}],xt=function e(){var t=this;Object(v.a)(this,e),this.files=St,this.getResponsePromise=function(e){return new Promise(function(t,n){setTimeout(function(){return t(e)},0*Math.random())})},this.getFilesByFolderId=function(){var e=Object(jt.a)(Ct.a.mark(function e(n){var a;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting files by folder ID",n),a=t.files.filter(function(e){return e.parentId===n}),e.next=4,t.getResponsePromise(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getFolderById=function(){var e=Object(jt.a)(Ct.a.mark(function e(n){var a;return Ct.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting folder by folder ID",n),a=t.files.find(function(e){return e.id===n}),e.next=4,t.getResponsePromise(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Tt=function(e){var t=e.viewerType,n=e.API,a=e.folderId,o=e.fileUrl,l=e.handleFileSelect,i=r.a.createElement(gt,{API:n,folderId:a,handleFileSelect:l}),c="basic"===t?r.a.createElement(Et,{fileUrl:o}):r.a.createElement(Ot,{fileUrl:o}),u=r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{variant:"h6"},"Welcome to ",t," File Viewer!"),r.a.createElement(P.a,{variant:"body1"},"basic"===t?"This viewer uses PDF viewer built into your browser.":"This viewer uses custom PDF viewer built with react-pdf."));return r.a.createElement(it,{header:u,explorer:i,viewer:c})},Pt=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={folderId:1,fileUrl:null},n.API=new xt,n.handleFileSelect=n.handleFileSelect.bind(Object(T.a)(n)),n}return Object(k.a)(t,e),Object(y.a)(t,[{key:"handleFileSelect",value:function(e,t,n){"directory"===t?this.setState({folderId:e}):this.setState({fileUrl:n})}},{key:"render",value:function(){var e=this.props.viewerType;return r.a.createElement(Tt,{viewerType:e,folderId:this.state.folderId,API:this.API,handleFileSelect:this.handleFileSelect,fileUrl:this.state.fileUrl})}}]),t}(r.a.Component),It=function(e){var t=e.match;return r.a.createElement(Pt,{viewerType:t.params.viewerType})},Nt=function(){return r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(rt,e)}}),r.a.createElement(E.a,{path:"/files/:viewerType",render:function(e){return r.a.createElement(It,e)}}),r.a.createElement(E.a,{render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))},Dt=Object(s.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BACKGROUND_TYPE":return f({},e,{backgroundType:t.bgType});case"SET_BACKGROUND_COLOR":return f({},e,{backgroundColor:t.color});case"SET_BACKGROUND_IMAGE":return f({},e,{backgroundImageUrl:t.url});case"SET_DESKTOP_SIZE":return f({},e,{desktopWidth:t.width,desktopHeight:t.height});case"SET_IS_SETTINGS_MENU_OPEN":return f({},e,{isSettingsMenuOpen:t.value});default:return e}});l.a.render(r.a.createElement(function(){return r.a.createElement(d.a,{store:Dt},r.a.createElement(i.a,{theme:b},r.a.createElement(c.a,null),r.a.createElement(u.a,null,r.a.createElement(Nt,null))))},null),document.getElementById("root"))},68:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=68}},[[137,1,2]]]);
//# sourceMappingURL=main.1b53bf0d.chunk.js.map