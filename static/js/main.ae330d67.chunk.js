(window["webpackJsonpweb-os"]=window["webpackJsonpweb-os"]||[]).push([[0],{126:function(e,t,n){e.exports=n.p+"static/media/clockDisplay.4b36229d.svg"},140:function(e,t,n){e.exports=n(196)},156:function(e,t){},158:function(e,t){},159:function(e,t){},160:function(e,t){},161:function(e,t){},196:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),i=n.n(l),o=(n(145),n(247)),c=n(248),u=n(89),s=n(73),d=n(32),m=n(9);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={background:{type:"image",color:"#ddf",imageUrl:"/web-os/files/hubble-extreme-deep-field.jpg"},isSettingsMenuOpen:!1},h=n(131),b=Object(h.a)({palette:{type:"light"}}),w=n(53),E=n(17),v=n(15),y=n(22),O=n(23),k=n(24),j=n(28),x=n(199),C=Object(x.a)(function(e){return{container:{display:"flex",flexDirection:"column",minHeight:"100vh"},desktop:{flex:1,position:"relative"},toolbar:{flex:0}}}),S=function(e){var t=e.desktop,n=e.toolbar,a=C();return r.a.createElement("div",{className:a.container},r.a.createElement("div",{className:a.desktop},t),r.a.createElement("div",{className:a.toolbar},n))},N=n(64),I=function(){return r.a.createElement(N.a,{variant:"h2",component:"span",style:{backgroundColor:"RGBA(255,255,255,0.5)",borderRadius:"0 0 30px 30px",padding:"0px 30px 10px"}},"WebOS")},P=Object(x.a)(function(e){return{desktop:function(e){var t=e.bgType,n=e.bgColor,a=e.bgUrl;return{backgroundColor:"color"===t?n:"transparent",backgroundImage:"image"===t?"url(".concat(a,")"):null,position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"hidden"}}}}),W=Object(d.b)(function(e){return{bgType:e.background.type,bgColor:e.background.color,bgUrl:e.background.imageUrl}})(function(e){var t=e.children,n=e.bgType,a=e.bgColor,l=e.bgUrl,i=P({bgType:n,bgColor:a,bgUrl:l});return r.a.createElement("div",{className:i.desktop,id:"desktop"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(I,null)),t)}),D=n(38),T=n(227),U=n(228),z=n(229),F=n(230),M=Object(x.a)(function(e){return{menu:{width:250},button:{color:e.palette.primary.contrastText},header:{padding:e.spacing(1,2),backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText}}}),R=function(e){var t=e.children,n=M(),a=r.a.useState({isOpen:!1}),l=Object(D.a)(a,2),i=l[0],o=l[1],c=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o({isOpen:e})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onClick:c(!0),className:n.button},r.a.createElement(U.a,null,"dehaze")),r.a.createElement(z.a,{open:i.isOpen,onClose:c(!1)},r.a.createElement("div",{className:n.header},r.a.createElement(N.a,{variant:"h4"},"Menu")),r.a.createElement(F.a,null),r.a.createElement("div",{className:n.menu,role:"presentation",onClick:c(!1),onKeyDown:c(!1)},t)))},B=function(e){return{type:"SET_IS_SETTINGS_MENU_OPEN",value:e}},H=n(231),A=n(232),L=n(233),_=n(234),G=n(91),V=n.n(G),K=n(120),J=n.n(K),Y=n(118),q=n.n(Y),Q=n(119),X=n.n(Q),Z=function(){var e=0;return function(){return"Example #"+ ++e}}(),$=Object(d.b)(void 0,function(e){return{openSettingsDialog:function(){return e(B(!0))}}})(function(e){var t=e.openSettingsDialog,n=e.handleWindowCreate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement(A.a,{button:!0,onClick:t},r.a.createElement(L.a,null,r.a.createElement(U.a,null,"more_vert")),r.a.createElement(_.a,{primary:"Settings"}))),r.a.createElement(F.a,null),r.a.createElement(H.a,null,r.a.createElement(A.a,{button:!0,onClick:function(){return n(Z(),"example")}},r.a.createElement(L.a,null,r.a.createElement(q.a,null)),r.a.createElement(_.a,{primary:"Example Window"})),r.a.createElement(A.a,{button:!0,onClick:function(){return n("Clock","clock")}},r.a.createElement(L.a,null,r.a.createElement(X.a,null)),r.a.createElement(_.a,{primary:"Clock"})),r.a.createElement(A.a,{button:!0,onClick:function(){return n("Custom File Viewer","customFileViewer")}},r.a.createElement(L.a,null,r.a.createElement(V.a,null)),r.a.createElement(_.a,{primary:"Custom File Viewer"})),r.a.createElement(A.a,{button:!0,onClick:function(){return n("Built-in File Viewer","basicFileViewer")}},r.a.createElement(L.a,null,r.a.createElement(V.a,null)),r.a.createElement(_.a,{primary:"Built-in File Viewer"})),r.a.createElement(A.a,{button:!0,onClick:function(){return n("Mail","mail")}},r.a.createElement(L.a,null,r.a.createElement(J.a,null)),r.a.createElement(_.a,{primary:"Mail"}))))}),ee=function(e){var t=e.handleWindowCreate;return r.a.createElement(R,null,r.a.createElement($,{handleWindowCreate:t}))},te=Object(x.a)(function(e){return{time:{color:e.palette.primary.contrastText}}}),ne=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={currentTime:new Date},n}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.setState({currentTime:new Date})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return r.a.createElement("span",null,this.state.currentTime.toLocaleTimeString())}}]),t}(r.a.Component),ae=function(e){var t=e.handleWindowCreate,n=te();return r.a.createElement(T.a,{onClick:function(){return t("Clock","clock")}},r.a.createElement(N.a,{variant:"subtitle2",className:n.time},r.a.createElement(ne,null)))},re=n(30),le=n(236),ie=Object(x.a)(function(e){return{container:{whiteSpace:"nowrap",overflow:"auto"},button:{marginRight:e.spacing(1),maxWidth:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline"},selected:{backgroundColor:e.palette.secondary.main}}}),oe=function(e){var t=e.windows,n=e.selectedWindowId,a=e.handleWindowSelect,l=ie();return r.a.createElement("div",{className:l.container},t.map(function(e){return r.a.createElement(T.a,{variant:"contained",color:"primary",size:"small",className:[l.button,e.id===n?l.selected:""].join(" "),key:e.id,onClick:function(){return a(e.id)}},e.title)}))},ce=n(121),ue=n(235),se=n(81),de=n.n(se),me=Object(ce.a)(function(e){return{list:{width:"auto"},selected:{color:e.palette.primary.dark}}}),pe=function(e){var t=e.windows,n=e.selectedWindowId,a=e.handleWindowSelect,l=e.handleWindowClose,i=me(),o=r.a.useState({isOpen:!1}),c=Object(D.a)(o,2),u=c[0],s=c[1],d=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&s({isOpen:e})}};return t.length?r.a.createElement("div",null,r.a.createElement(T.a,{variant:"contained",color:"primary",size:"small",onClick:d(!0)},"Running Apps: ",t.length),r.a.createElement(z.a,{anchor:"bottom",open:u.isOpen,onClose:d(!1)},r.a.createElement("div",{className:i.list,role:"presentation",onClick:d(!1),onKeyDown:d(!1)},r.a.createElement(H.a,null,t.map(function(e){return r.a.createElement(A.a,{key:e.id,button:!0,selected:e.id===n,className:e.id===n?i.selected:""},r.a.createElement(_.a,{onClick:function(){return a(e.id)}},e.title),r.a.createElement(ue.a,{size:"small",color:"secondary",onClick:function(){return l(e.id)}},r.a.createElement(de.a,null)))}))))):r.a.createElement("div",null)},fe=function(e){var t=Object(re.a)();return Object(le.a)(t.breakpoints.up("md"))?r.a.createElement(oe,e):r.a.createElement(pe,e)},ge=Object(x.a)(function(e){return{toolbar:{backgroundColor:e.palette.primary.dark,display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:48}}}),he=function(e){var t=e.windows,n=e.selectedWindowId,a=e.handleWindowCreate,l=e.handleWindowSelect,i=e.handleWindowClose,o=ge();return r.a.createElement("div",{className:o.toolbar},r.a.createElement(ee,{handleWindowCreate:a}),r.a.createElement(fe,{windows:t,selectedWindowId:n,handleWindowSelect:l,handleWindowClose:i}),r.a.createElement(ae,{handleWindowCreate:a}))},be=n(198),we=n(242),Ee=n(243),ve=n(244),ye=Object(d.b)(function(e){return{bgType:e.background.type,bgColor:e.background.color,bgUrl:e.background.imageUrl}})(function(e){var t=e.handleSelect,n=e.bgType,a=e.bgColor,l=e.bgUrl;return r.a.createElement(H.a,null,r.a.createElement(A.a,{button:!0,onClick:function(){return t("background")}},r.a.createElement(_.a,{primary:"Background",secondary:"image"===n?l:a})),r.a.createElement(F.a,null),r.a.createElement(A.a,{button:!0},r.a.createElement(_.a,{primary:"Something Else",secondary:""})))}),Oe=n(237),ke=n(238),je=n(239),xe=n(252),Ce=n(240),Se=n(250),Ne=n(249),Ie=n(251);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var We=[{id:"cat",url:"/web-os/files/cat.jpeg",label:"Cat"},{id:"dusk",url:"/web-os/files/dusk.jpeg",label:"Dusk"},{id:"space",url:"/web-os/files/hubble-extreme-deep-field.jpg",label:"Space"}],De=Object(x.a)(function(e){return{container:{maxWidth:600,padding:e.spacing(3)},formControl:{margin:"auto"},group:{margin:e.spacing(1,0)},images:{margin:e.spacing(2)},button:{maxWidth:200},disabled:{color:"RGBA(0,0,0,0.5)"}}}),Te=Object(d.b)(function(e){return{bgType:e.background.type,bgColor:e.background.color,bgUrl:e.background.imageUrl}},function(e){return{setBackground:function(t){return e(function(e){return{type:"SET_BACKGROUND",background:e}}(t))}}})(function(e){var t=e.bgType,n=e.bgColor,a=e.bgUrl,l=e.setBackground,i=De(),o=r.a.useState({bgType:t,bgColor:n,bgUrl:a}),c=Object(D.a)(o,2),u=c[0],s=c[1],d=r.a.useState(!1),p=Object(D.a)(d,2),f=p[0],g=p[1],h=function(e){return function(t){var n=t.target.value;s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u,Object(m.a)({},e,n)))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:i.container},r.a.createElement(Oe.a,{component:"fieldset",className:i.formControl,fullWidth:!0},r.a.createElement(ke.a,{component:"legend"},"Background Type"),r.a.createElement(je.a,null,"You can configure desktop background here."),r.a.createElement(xe.a,{"aria-label":"background-type",name:"backgroundType",className:i.group,value:u.bgType,onChange:h("bgType")},r.a.createElement(Ce.a,{value:"color",control:r.a.createElement(Se.a,null),label:"Color"}),r.a.createElement(Ne.a,{disabled:"color"!==u.bgType,label:"Background Color",value:u.bgColor,onChange:h("bgColor")}),r.a.createElement(Ce.a,{value:"image",control:r.a.createElement(Se.a,null),label:"Image"}),r.a.createElement(xe.a,{name:"bgImageUrl",value:"image"===u.bgType?u.bgUrl:"",className:i.images,onChange:h("bgUrl")},We.map(function(e){return r.a.createElement(Ce.a,{key:e.id,control:r.a.createElement(Se.a,null),disabled:"image"!==u.bgType,value:e.url,label:e.label})})),r.a.createElement(Ne.a,{disabled:"image"!==u.bgType,label:"Custom URL",value:u.bgUrl,onChange:h("bgUrl")})),r.a.createElement(T.a,{variant:"contained",color:"primary",className:i.button,onClick:function(e){e.preventDefault(),l({type:u.bgType,color:u.bgColor,imageUrl:u.bgUrl}),g(!0)}},"Save"))),r.a.createElement(Ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:f,autoHideDuration:2e3,onClose:function(){g(!1)},message:r.a.createElement("span",null,"Settings updated.")}))}),Ue=Object(ce.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}}),ze=r.a.forwardRef(function(e,t){return r.a.createElement(be.a,Object.assign({direction:"up",ref:t},e))}),Fe=Object(d.b)(function(e){return{isOpen:e.isSettingsMenuOpen}},function(e){return{handleClose:function(){return e(B(!1))}}})(function(e){var t,n=e.isOpen,a=e.handleClose,l=Ue(),i=r.a.useState("main"),o=Object(D.a)(i,2),c=o[0],u=o[1],s=function(e){return u(e)};switch(c){case"background":t=r.a.createElement(Te,null);break;default:t=r.a.createElement(ye,{handleSelect:s})}return r.a.createElement(we.a,{fullScreen:!0,open:n,onClose:a,TransitionComponent:ze},r.a.createElement(Ee.a,{className:l.appBar},r.a.createElement(ve.a,null,r.a.createElement(ue.a,{edge:"start",color:"inherit",onClick:function(){a(),u("main")},"aria-label":"close"},r.a.createElement(U.a,null,"close")),r.a.createElement(N.a,{variant:"h6",className:l.title},"App Settings"),"main"===c?null:r.a.createElement(T.a,{color:"inherit",onClick:function(){return s("main")}},"back"))),t)}),Me=Object(x.a)(function(e){return{windowMobile:{position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"hidden"}}}),Re=function(e){var t=Me(),n=e.children,a=e.zIndex;return r.a.createElement("div",{className:t.windowMobile,style:{zIndex:a}},n)},Be=n(21),He=n(122),Ae=n(124),Le=n.n(Ae),_e=n(125),Ge=n.n(_e),Ve=Object(x.a)(function(e){return{container:{height:"100%",width:"100%",borderWidth:"2px",borderStyle:"ridge",borderColor:e.palette.primary.light,display:"flex",flexDirection:"column",overflow:"hidden"},content:{flex:1,backgroundColor:e.palette.background.default,position:"relative"},overlayOnDrag:{backgroundColor:"RGBA(0,0,0,0.25)",zIndex:1,position:"absolute",top:0,bottom:0,right:0,left:0},overlayOnNotSelected:{backgroundColor:"RGBA(0,0,0,0)",zIndex:1,position:"absolute",top:0,bottom:0,right:0,left:0},bar:{backgroundColor:e.palette.primary.main,display:"flex",justifyContent:"space-between",alignItems:"center"},barSelected:{backgroundColor:e.palette.primary.dark},controls:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap"},controlItem:{color:e.palette.primary.contrastText,margin:0,padding:0},title:{color:e.palette.primary.contrastText,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}}),Ke=function(e){var t=Ve(),n=e.children,a=e.title,l=e.isSelected,i=e.isDragged,o=e.handleClose,c=e.handleMinimize,u=e.handleMaximize;return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:[t.bar,l?t.barSelected:""].join(" ")},r.a.createElement("div",{className:t.controls},r.a.createElement(ue.a,{size:"small",className:t.controlItem,onClick:o},r.a.createElement(de.a,null)),r.a.createElement(ue.a,{size:"small",className:t.controlItem,onClick:c},r.a.createElement(Le.a,null)),r.a.createElement(ue.a,{size:"small",className:t.controlItem,onClick:u},r.a.createElement(Ge.a,null))),r.a.createElement(N.a,{variant:"body2",color:l?"textPrimary":"textSecondary",className:t.title},a)),r.a.createElement("div",{className:t.content},i?r.a.createElement("div",{className:t.overlayOnDrag}):null,l?null:r.a.createElement("div",{className:t.overlayOnNotSelected}),n))};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Ye=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).minWidth=200,n.minHeight=200,n.state={x:0,y:0,width:0,height:0,isDragged:!1},n.handleMaximize=n.handleMaximize.bind(Object(Be.a)(n)),n.handleResize=n.handleResize.bind(Object(Be.a)(n)),n}return Object(k.a)(t,e),Object(v.a)(t,[{key:"handleMaximize",value:function(){var e=document.getElementById("desktop");this.setState(function(t,n){return n.handleSelect(n.id),{x:0,y:0,width:e.offsetWidth,height:e.offsetHeight}})}},{key:"handleResize",value:function(){this.setState(function(e){var t,n,a=document.getElementById("desktop"),r=a.offsetWidth-e.x,l=a.offsetHeight-e.y,i=r>e.width?e.x:e.x+r-e.width,o=l>e.height?e.y:e.y+l-e.height;return i<0?(i=0,t=a.offsetWidth):t=e.width,o<0?(o=0,n=a.offsetHeight):n=e.height,{x:i,y:o,width:t,height:n}})}},{key:"componentDidMount",value:function(){var e=document.getElementById("desktop");this.setState({x:e.offsetWidth/6,y:e.offsetHeight/10,width:2*e.offsetWidth/3,height:4*e.offsetHeight/5}),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.title,l=t.isSelected,i=t.handleClose,o=t.handleSelect,c=t.handleHide,u=t.zIndex;return r.a.createElement(He.a,{size:{width:this.state.width,height:this.state.height},position:{x:this.state.x,y:this.state.y},onDragStart:function(t){e.setState({isDragged:!0})},onDragStop:function(t,n){e.setState({x:n.x,y:n.y,isDragged:!1})},onResize:function(t,n,a,r,l){e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({width:a.offsetWidth,height:a.offsetHeight},l))},minWidth:this.minWidth,minHeight:this.minHeight,bounds:"parent",style:{zIndex:u},onMouseDown:function(){return o()}},r.a.createElement(Ke,{title:a,isSelected:l,isDragged:this.state.isDragged,handleClose:i,handleMinimize:c,handleMaximize:this.handleMaximize},n))}}]),t}(r.a.Component),qe=function(e){var t=Object(re.a)();return Object(le.a)(t.breakpoints.up("md"))?r.a.createElement(Ye,e):r.a.createElement(Re,e)},Qe=Object(x.a)(function(e){return{container:{display:"flex",flexDirection:"column",height:"100%"},header:{flex:0,backgroundColor:e.palette.grey[900],color:"white",padding:e.spacing(2),margin:0},content:{flex:1,backgroundColor:e.palette.grey[800],color:"white",padding:e.spacing(2),margin:0}}}),Xe=function(){var e=Qe();return r.a.createElement("div",{className:e.container},r.a.createElement(N.a,{variant:"h4",className:e.header},"Hello, window!"),r.a.createElement(N.a,{className:e.content},"Created/re-rendered at ",(new Date).toLocaleTimeString(),"..."))},Ze=function(e){var t=e.length,n=e.width,a=e.rotate,l={position:"absolute",height:t+"%",width:n+"%",top:"50%",left:"".concat(50-n/2,"%"),transform:"rotate(".concat(a,"deg)"),transformOrigin:"50% 0%",borderRadius:"10px",backgroundColor:"#ccc"};return r.a.createElement("div",{style:l})},$e=n(126),et=n.n($e),tt=Object(x.a)(function(e){return{display:{position:"relative",width:"100%",maxWidth:"300px",maxHeight:"300px",lineHeight:0},displayImg:{width:"100%"}}}),nt=function(e){var t=e.time,n=tt(),a=t.getSeconds()/60*360+180,l=t.getMinutes()/60*360+180,i=360*(t.getHours()/12+t.getMinutes()/60/12)+180;return r.a.createElement("div",{className:n.display},r.a.createElement("img",{src:et.a,alt:"",className:n.displayImg,draggable:"false"}),r.a.createElement(Ze,{length:35,width:3,rotate:i}),r.a.createElement(Ze,{length:45,width:2,rotate:l}),r.a.createElement(Ze,{length:50,width:1,rotate:a}))},at=Object(x.a)(function(e){return{container:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",height:"100%"},clock:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"black",padding:e.spacing(2)},text:{flex:0,backgroundColor:"#28170b",color:e.palette.primary.contrastText,padding:e.spacing(2)}}}),rt=function(e){var t=e.time,n=at();return r.a.createElement("div",{className:n.container},r.a.createElement("div",{className:n.clock},r.a.createElement(nt,{time:t})),r.a.createElement(N.a,{variant:"h6",align:"center",className:n.text},t.toLocaleString()))},lt=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={currentTime:new Date},n}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerId=setInterval(function(){e.setState({currentTime:new Date})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId)}},{key:"render",value:function(){return r.a.createElement(rt,{time:this.state.currentTime})}}]),t}(r.a.Component),it=Object(x.a)(function(e){return{frame:{width:"100%",height:"100%",border:"none"}}}),ot=function(){var e=it();return r.a.createElement("iframe",{src:"https://pyvlad.github.io/mailbox-mui/",title:"mail",className:e.frame})},ct=Object(x.a)(function(e){return{frame:{width:"100%",height:"100%",border:"none"}}}),ut=function(e){var t=e.viewerType,n=ct();return r.a.createElement("iframe",{src:"/web-os"+"/#/files/".concat(t),title:"files",className:n.frame})},st=function(e){switch(e.name){case"example":return r.a.createElement(Xe,null);case"clock":return r.a.createElement(lt,null);case"mail":return r.a.createElement(ot,null);case"basicFileViewer":return r.a.createElement(ut,{viewerType:"basic"});case"customFileViewer":return r.a.createElement(ut,{viewerType:"custom"});default:return null}},dt=function(e){var t=e.windows,n=e.selectedWindow,a=e.handleWindowCreate,l=e.handleWindowClose,i=e.handleWindowSelect,o=e.handleWindowHide,c=r.a.createElement(W,null,t.map(function(e){return r.a.createElement(qe,{key:e.id,title:e.title,zIndex:e.zIndex,handleClose:function(){return l(e.id)},handleSelect:function(){return i(e.id)},handleHide:function(){return o(e.id)},isSelected:e.id===n},r.a.createElement(st,{name:e.appName}))})),u=r.a.createElement(he,{windows:t,selectedWindowId:n,handleWindowCreate:a,handleWindowSelect:i,handleWindowClose:l});return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{desktop:c,toolbar:u}),r.a.createElement(Fe,null))},mt=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)},pt=function(e){var t=e.length?Math.max.apply(Math,Object(j.a)(e.map(function(e){return e.zIndex}))):1;return Math.max(t,1)},ft=function(e){var t={},n=!0,a=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done);n=!0)t[l.value]=!0}catch(c){a=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}var o=Array.from(Object.keys(t)).sort(function(e,t){return e-t});return Object.fromEntries(o.map(function(e,t){return[e,e>=0?t:e]}))},gt=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleWindowCreate=function(e,t){n.setState(function(n){var a=mt(),r=pt(n.windows)+1,l={id:a,title:e,appName:t,zIndex:r};return{windows:[].concat(Object(j.a)(n.windows),[l]),selectedWindow:a}})},n.handleWindowClose=function(e){n.setState(function(t){var n=t.windows.filter(function(t){return t.id!==e});return{windows:n=n.map(function(e){return Object.assign({},e)}),selectedWindow:t.selectedWindow===e?null:t.selectedWindow}})},n.handleWindowSelect=function(e){n.setState(function(t){var n=ft(t.windows.map(function(e){return e.zIndex})),a=t.windows.map(function(e){return Object.assign({},e,{zIndex:n[e.zIndex]})});return a.find(function(t){return t.id===e}).zIndex=pt(a)+1,{windows:Object(j.a)(a),selectedWindow:e}})},n.handleWindowHide=function(e){n.setState(function(t){var n=t.windows.map(function(e){return Object.assign({},e)});return n.find(function(t){return t.id===e}).zIndex=-1,{windows:Object(j.a)(n)}})},n.state={windows:[],selectedWindow:null},n}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(dt,{windows:this.state.windows,selectedWindow:this.state.selectedWindow,handleWindowCreate:this.handleWindowCreate,handleWindowClose:this.handleWindowClose,handleWindowSelect:this.handleWindowSelect,handleWindowHide:this.handleWindowHide})}}]),t}(r.a.Component),ht=n(245),bt=Object(x.a)(function(e){return{container:{minHeight:"100vh",padding:e.spacing(1)},leftPane:{padding:e.spacing(2),backgroundColor:e.palette.grey[200]},rightPane:{backgroundColor:e.palette.background.paper,minHeight:"300px"}}}),wt=function(e){var t=e.explorer,n=e.viewer,a=bt();return r.a.createElement(ht.a,{container:!0,className:a.container},r.a.createElement(ht.a,{item:!0,xs:12,sm:4,className:a.leftPane},t),r.a.createElement(ht.a,{item:!0,xs:12,sm:8,className:a.rightPane},n))},Et=n(127),vt=n.n(Et),yt=n(128),Ot=n.n(yt),kt=n(129),jt=n.n(kt),xt=function(e){var t=e.files,n=e.handleFileSelect;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"h4",component:"h2"},"File Explorer"),r.a.createElement(H.a,{component:"nav"},t.map(function(e){var t=e.id,a=e.type,l=e.name,i=e.url;return r.a.createElement(A.a,{button:!0,key:t,onClick:function(){return n(t,a,i)}},r.a.createElement(L.a,null,"directory"===a?r.a.createElement(vt.a,null):String(l).indexOf(".pdf")+1?r.a.createElement(Ot.a,null):r.a.createElement(jt.a,null)),r.a.createElement(_.a,{primary:l}))})))},Ct=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).updateData=function(){var e=n.props.folderId;Promise.all([n.API.getFolderById(e),n.API.getFilesByFolderId(e)]).then(function(e){var t=Object(D.a)(e,2),a=t[0],r=t[1];return n.setState({folder:a,files:r})})},n.API=e.API,n.state={folderId:null,folder:{},files:[]},n}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e){this.props.folderId!==e.folderId&&this.updateData()}},{key:"render",value:function(){var e=this.props.handleFileSelect;return r.a.createElement(xt,{files:this.state.files,handleFileSelect:e})}}]),t}(r.a.Component),St=n(246),Nt=Object(x.a)(function(e){return{message:{padding:e.spacing(1)}}}),It=function(e){var t=e.fileUrl,n=Nt();return t?r.a.createElement("object",{data:t,type:"application/pdf",width:"100%",height:"100%"},r.a.createElement(N.a,{variant:"subtitle1",component:"p",className:n.message},"Rendering failed. ",r.a.createElement(St.a,{href:t},"Download file"),".")):r.a.createElement(N.a,{variant:"subtitle1",component:"p",className:n.message},"Please select a file to show. Note: this viewer will use PDF viewer built into your browser, if there is any.")},Pt=n(92),Wt=Object(x.a)(function(e){return{message:{padding:e.spacing(2)},root:{borderWidth:"1px",borderStyle:"solid",borderColor:e.palette.grey[800],height:"100%",position:"relative"},header:{backgroundColor:e.palette.grey[800],padding:e.spacing(1),display:"flex",justifyContent:"space-between",height:50,position:"absolute",top:0,left:0,right:0},pdf:{position:"absolute",top:50,bottom:0,right:0,left:0,overflow:"scroll"},pageCounter:{color:e.palette.primary.contrastText}}}),Dt=function(e){var t=e.fileUrl,n=e.onDocumentLoadSuccess,a=e.goToPrevPage,l=e.goToNextPage,i=e.pageNumber,o=e.numPages,c=Wt();if(!t)return r.a.createElement(N.a,{variant:"subtitle1",component:"p",className:c.message},"Please select document to show. Note: this viewer will use custom PDF viewer built with react-pdf.");var u=r.a.createElement(N.a,{variant:"subtitle1",component:"p",className:c.message},"Rendering failed. ",r.a.createElement(St.a,{href:t},"Download file"),".");return r.a.createElement("div",{className:c.root},r.a.createElement("div",{className:c.header},r.a.createElement("div",{className:c.pageCounter},"Page ",i," of ",o),r.a.createElement("nav",null,r.a.createElement("button",{onClick:a},"Prev"),r.a.createElement("button",{onClick:l},"Next"))),r.a.createElement("div",{className:c.pdf},r.a.createElement(Pt.Document,{file:t,onLoadSuccess:n,loading:"loading PDF...",error:u},r.a.createElement(Pt.Page,{pageNumber:i}))))},Tt=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={numPages:null,pageNumber:1},n.onDocumentLoadSuccess=function(e){var t=e.numPages;n.setState({numPages:t})},n.goToPrevPage=function(){n.setState(function(e){return{pageNumber:Math.max(e.pageNumber-1,1)}})},n.goToNextPage=function(){n.setState(function(e){return{pageNumber:Math.min(e.pageNumber+1,e.numPages)}})},n}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.fileUrl;return r.a.createElement(Dt,{fileUrl:e,onDocumentLoadSuccess:this.onDocumentLoadSuccess,goToPrevPage:this.goToPrevPage,goToNextPage:this.goToNextPage,pageNumber:this.state.pageNumber,numPages:this.state.numPages})}}]),t}(r.a.Component),Ut=function(e){var t=e.viewerType,n=e.API,a=e.handleFileSelect,l=e.folderId,i=e.fileUrl,o=r.a.createElement(Ct,{API:n,folderId:l,handleFileSelect:a}),c="basic"===t?r.a.createElement(It,{fileUrl:i}):r.a.createElement(Tt,{fileUrl:i});return r.a.createElement(wt,{explorer:o,viewer:c})},zt=n(26),Ft=n.n(zt),Mt=n(93),Rt=[{id:1,type:"directory",name:"home",url:"/web-os/root/",parentId:null},{id:2,type:"directory",name:"examples",url:"/web-os/root/examples/",parentId:1},{id:3,type:"file",url:"/web-os/root/examples/example.pdf",name:"example.pdf",parentId:2},{id:4,type:"file",url:"/web-os/root/examples/example.docx",name:"example.docx",parentId:2}],Bt=function e(){var t=this;Object(E.a)(this,e),this.files=Rt,this.getResponsePromise=function(e){return new Promise(function(t,n){setTimeout(function(){return t(e)},0*Math.random())})},this.getFilesByFolderId=function(){var e=Object(Mt.a)(Ft.a.mark(function e(n){var a;return Ft.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting files by folder ID",n),a=t.files.filter(function(e){return e.parentId===n}),e.next=4,t.getResponsePromise(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getFolderById=function(){var e=Object(Mt.a)(Ft.a.mark(function e(n){var a;return Ft.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting folder by folder ID",n),a=t.files.find(function(e){return e.id===n}),e.next=4,t.getResponsePromise(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Ht=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={folderId:1,fileUrl:null},n.API=new Bt,n.handleFileSelect=n.handleFileSelect.bind(Object(Be.a)(n)),n}return Object(k.a)(t,e),Object(v.a)(t,[{key:"handleFileSelect",value:function(e,t,n){"directory"===t?this.setState({folderId:e}):this.setState({fileUrl:n})}},{key:"render",value:function(){var e=this.props.viewerType;return r.a.createElement(Ut,{viewerType:e,API:this.API,handleFileSelect:this.handleFileSelect,folderId:this.state.folderId,fileUrl:this.state.fileUrl})}}]),t}(r.a.Component),At=function(e){var t=e.match;return r.a.createElement(Ht,{viewerType:t.params.viewerType})},Lt=function(){return r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(gt,e)}}),r.a.createElement(w.a,{path:"/files/:viewerType",render:function(e){return r.a.createElement(At,e)}}),r.a.createElement(w.a,{render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}}))},_t=Object(s.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BACKGROUND":return f({},e,{background:t.background});case"SET_IS_SETTINGS_MENU_OPEN":return f({},e,{isSettingsMenuOpen:t.value});default:return e}});i.a.render(r.a.createElement(function(){return r.a.createElement(d.a,{store:_t},r.a.createElement(o.a,{theme:b},r.a.createElement(c.a,null),r.a.createElement(u.a,null,r.a.createElement(Lt,null))))},null),document.getElementById("root"))},70:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=70}},[[140,1,2]]]);
//# sourceMappingURL=main.ae330d67.chunk.js.map